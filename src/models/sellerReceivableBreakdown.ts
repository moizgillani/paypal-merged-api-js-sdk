/**
 * Paypal Merged APILib
 *
 * This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
 */

import { array, lazy, object, optional, Schema } from '../schema';
import { ExchangeRate, exchangeRateSchema } from './exchangeRate';
import { Money, moneySchema } from './money';
import { PlatformFee, platformFeeSchema } from './platformFee';

/** The detailed breakdown of the capture activity. This is not available for transactions that are in pending state. */
export interface SellerReceivableBreakdown {
  /** The amount for this captured payment in the currency of the transaction. */
  grossAmount: Money;
  /** The applicable fee for this captured payment in the currency of the transaction. */
  paypalFee?: Money;
  /** The applicable fee for this captured payment in the receivable currency. Returned only in cases the fee is charged in the receivable currency. Example 'CNY'. */
  paypalFeeInReceivableCurrency?: Money;
  /** The net amount that the payee receives for this captured payment in their PayPal account. The net amount is computed as <code>gross_amount</code> minus the <code>paypal_fee</code> minus the <code>platform_fees</code>. */
  netAmount?: Money;
  /** The net amount that is credited to the payee's PayPal account. Returned only when the currency of the captured payment is different from the currency of the PayPal account where the payee wants to credit the funds. The amount is computed as <code>net_amount</code> times <code>exchange_rate</code>. */
  receivableAmount?: Money;
  /** The exchange rate that determines the amount that is credited to the payee's PayPal account. Returned when the currency of the captured payment is different from the currency of the PayPal account where the payee wants to credit the funds. */
  exchangeRate?: ExchangeRate;
  /** An array of various fees, commissions, tips, or donations. This field is only applicable to merchants that been enabled for PayPal Commerce Platform for Marketplaces and Platforms capability. */
  platformFees?: PlatformFee[];
}

export const sellerReceivableBreakdownSchema: Schema<SellerReceivableBreakdown> = object(
  {
    grossAmount: ['gross_amount', lazy(() => moneySchema)],
    paypalFee: ['paypal_fee', optional(lazy(() => moneySchema))],
    paypalFeeInReceivableCurrency: [
      'paypal_fee_in_receivable_currency',
      optional(lazy(() => moneySchema)),
    ],
    netAmount: ['net_amount', optional(lazy(() => moneySchema))],
    receivableAmount: ['receivable_amount', optional(lazy(() => moneySchema))],
    exchangeRate: ['exchange_rate', optional(lazy(() => exchangeRateSchema))],
    platformFees: [
      'platform_fees',
      optional(array(lazy(() => platformFeeSchema))),
    ],
  }
);
